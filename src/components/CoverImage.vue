<template>
  <div class="image">
    <svg class="imagesvg" viewBox="0 0 250 200">
        <defs>
            <radialGradient id="myGradient">
            <stop offset="10%" stop-color="red" />
            <stop offset="95%" stop-color="#ffffff00" />
            </radialGradient>
        </defs>

        <g transform="translate(10 -20)">
            <path class="path" id="animpath" fill="none" stroke="gray" stroke-width="6"
                d="M226.963,292.348c-0,-10.567 0.659,-21.156 -0,-31.703c-0.755,-12.077 -1.848,-27.355 -4.529,-40.761c-3.02,-15.096 -3.775,-36.231 -13.587,-49.818c-9.813,-13.587 -33.968,-22.645 -45.29,-31.703c-8.336,-6.669 -18.871,-17.361 -22.645,-22.645c-1.755,-2.457 2.7,-10.408 -0,-9.058c-3.019,1.509 -12.077,15.096 -18.116,18.116c-5.401,2.7 -12.832,2.264 -18.116,-0c-5.284,-2.265 -12.077,-9.058 -13.587,-13.587c-1.51,-4.529 1.963,-11.021 4.982,-11.776c3.019,-0.754 4.831,5.737 8.605,7.247c2.803,1.121 10.886,1.35 13.587,-0c3.019,-1.51 10.266,-6.643 9.511,-8.152c-0.755,-1.51 -10.266,-0.906 -14.04,-0.906c-3.019,-0 -8.303,1.509 -9.058,-0c-0.755,-1.51 3.019,-7.398 4.529,-9.058c1.036,-1.139 2.793,-0.076 4.076,-0.453c1.103,-0.324 0.755,-1.963 1.812,-1.812c1.056,0.151 3.925,2.567 4.529,1.812c0.603,-0.755 1.687,-4.21 0.905,-6.341c-0.83,-2.264 -5.057,-4.151 -5.434,-6.793c-0.378,-2.642 1.283,-7.096 2.943,-8.379c1.661,-1.283 5.617,-0.453 7.926,-0.453c1.009,0 1.523,0.264 2.718,-0.226c0.605,-0.249 -0.091,-2.641 -0,-2.717c1.02,-0.862 5.127,2.739 5.434,2.717c8.976,-0.643 12.16,2.71 12.229,10.417c0.044,4.999 2.109,14.957 -0.906,16.757c-1.87,1.116 4.047,-1.945 5.435,-3.623c1.265,-1.532 2.779,-4.121 3.623,-7.247c1.214,-4.495 1.527,-9.765 1.811,-11.775c0.182,-1.279 -1.221,-2.068 -2.264,-3.17c-0.427,-0.452 0.764,-0.754 0.906,-1.359c0.528,-2.265 3.915,-3.689 4.076,-6.794c0.226,-4.378 -2.416,-13.209 -3.171,-18.115c-0.578,-3.758 0.455,-7.982 -1.358,-11.323c-2.869,-5.284 -10.115,-16.455 -15.852,-20.38c-5.182,-3.546 -13.662,-1.661 -18.569,-3.171c-3.938,-1.211 -6.75,-6.007 -10.869,-5.887c-5.208,0.151 -15.474,4.529 -20.381,6.793c-3.426,1.582 -7.17,4.529 -9.057,6.794c-1.529,1.833 -1.325,4.599 -2.265,6.793c-1.132,2.642 -3.461,5.856 -4.529,9.058c-1.132,3.397 -1.887,7.926 -2.264,11.323c-0.334,3 -0.375,6.061 -0,9.057c0.377,3.02 1.509,6.643 2.264,9.058c0.585,1.874 3.019,9.134 4.529,9.511c0,0 1.132,-10.265 1.812,-14.492c0.587,-3.655 0.128,-7.848 2.264,-10.87c3.095,-4.378 9.662,-13.21 16.304,-15.399c6.643,-2.189 16.31,-0.859 23.551,2.265c7.699,3.321 18.343,12.832 22.645,17.663c2.607,2.927 3.925,9.511 3.17,11.322c-0.754,1.812 -5.235,0.28 -7.699,-0.452c-2.793,-0.831 -5.692,-4.275 -9.058,-4.529c-4,-0.302 -10.341,2.038 -14.945,2.717c-4.206,0.62 -9.36,1.585 -12.682,1.359c-2.573,-0.176 -2.411,-2.504 -4.982,-2.718c-2.717,-0.226 -9.058,0.378 -11.322,1.359c-1.959,0.849 -4.303,2.906 -3.623,4.529c0.679,1.623 4.453,4.68 6.793,5.208c1.888,0.426 3.085,-1.658 4.982,-2.038c2.265,-0.453 7.624,1.736 7.699,2.265c0.076,0.528 -3.773,0.76 -5.887,0.906c-2.189,0.15 -5.745,0.321 -6.794,0.452c-2.415,0.302 -8.831,1.51 -11.322,1.812c-1.199,0.145 -2.567,-0.528 -3.623,0c-1.057,0.528 -2.395,1.816 -2.718,3.17c-0.377,1.585 0.227,4.378 0.453,6.341c0.211,1.824 0.247,3.721 0.906,5.435c0.755,1.962 2.642,4.831 3.623,6.34c0.643,0.989 1.667,1.701 2.265,2.718c0.754,1.283 1.556,3.3 2.264,4.982c1.208,2.868 5.51,9.586 6.341,13.134c0.688,2.939 -0.427,6.521 -0,9.51c0.755,5.284 -0.568,14.558 3.17,21.287c3.774,6.793 12.606,15.7 16.757,19.474c2.014,1.831 7.04,8.84 9.511,7.7c4.907,-2.265 18.192,-18.871 24.004,-20.381c4.909,-1.275 5.707,8.986 10.416,10.87c5.662,2.264 23.551,3.17 22.645,5.435c-0.905,2.264 -22.947,0.301 -28.985,4.076c-4.616,2.884 -5.792,9.232 -9.058,13.587c-3.397,4.529 -6.794,12.077 -11.323,13.587c-4.529,1.509 -11.56,-1.097 -15.851,-4.529c-5.661,-4.529 -13.512,-17.362 -18.116,-22.645c-2.876,-3.301 -5.595,-10.724 -9.511,-12.682c-4.529,-2.264 -17.877,3.301 -21.739,0.453c-4.301,-3.171 11.518,-20.629 12.228,-24.003c0.695,-3.304 -19.625,9.813 -26.268,13.587c-4.732,2.689 -9.058,6.038 -13.587,9.058c-4.529,3.019 -10.943,4.299 -13.587,9.058c-3.774,6.793 -6.793,23.399 -9.058,31.703c-1.638,6.005 -3.505,11.976 -4.529,18.115c-1.509,9.058 -3.774,25.665 -4.529,36.232c-0.645,9.035 0,18.116 0,27.174"
                style="fill:none;stroke:#000;stroke-width:0.45px;">
                <animate attributeName="stroke-dashoffset" to="0" begin="fadeIn.begin" dur="5s" fill="freeze"/>
            </path>

            <circle r="4" fill="url(#myGradient)" opacity="0">
                <animate id="fadeIn" attributeName="opacity" to="1" dur="250ms" fill="freeze" begin="250ms" />
                <animateMotion id="draw" dur="5s" begin="fadeIn.begin" rotate="auto" fill="freeze">
                    <mpath href="#animpath"/>
                </animateMotion>
                <animate attributeName="opacity" to="0" dur="500ms" fill="freeze" begin="draw.end" />
            </circle>
        </g>
    </svg>

    <!-- <div class="laser"></div> -->
  </div>
</template>

<script>
export default {
    name: "CoverImage",
    mounted(){
        console.log(document.getElementById("animpath").getTotalLength())
    }
}
</script>

<style lang="scss" scoped>
// @keyframes dash {
//   to { stroke-dashoffset: 0; }
// }

@keyframes draw {
    0%{offset-distance: 0%;}
    100% { offset-distance: 100%; }
}

@keyframes appear { to {opacity: 1; } }
@keyframes disappear{ to { opacity: 0; } }

.image
{
    position: relative;
    height: fit-content;
    flex: 1 1 auto;
    width: 100%;

    .imagesvg{
        width: fit-content;
        min-width: 200px;
        min-width: 500px;
        max-width: 800px;
        // max-width: 800px;
        // width: 600px;
        height: fit-content;
        min-height: 800px;
        // position: absolute;
        // inset: 0;
        // left: 2em;
        // margin: 0 5em 0 auto;
    }

    .path {
        stroke-dasharray: 1460;
        stroke-dashoffset: 1460;
    }
}

</style>